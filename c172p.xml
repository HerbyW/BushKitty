<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<!-- Source: http://forum.flightgear.org/viewtopic.php?f=25&t=21664&start=45 -->
<fdm_config name="c172" version="2.0" release="BETA"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">
    
    <fileheader>
        <author> Unknown </author>
        <filecreationdate> 2002-01-01 </filecreationdate>
        <version> $Id: c172p.xml,v 1.41 Jan 2018 $ </version>
        <description> Cessna 172P Skyhawk </description>
    </fileheader>
    
    <metrics>
        <wingarea unit="FT2"> 174 </wingarea>
        <wingspan unit="FT"> 35.8 </wingspan>
        <chord unit="FT"> 4.9 </chord>
        <htailarea unit="FT2"> 21.9 </htailarea>
        <htailarm unit="FT"> 15.7 </htailarm>
        <vtailarea unit="FT2"> 16.5 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="M">
            <x> 0.67 </x>
            <y> 0 </y>
            <z> -0.24 </z>
        </location>
        <location name="EYEPOINT" unit="M">
            <x> 0.36 </x>
            <y> 0 </y>
            <z> 0.19 </z>
        </location>
        <location name="VRP" unit="M">
            <x> 0.77 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>
    
    <!--
    Cessna 172P Skyhawk 1982 (160hp) POH p.6-10, Weight and Moment:
    **Basic Empty** (= with full oil) 1467 lbs, 57300 lb-ins. Gives CG at 39.06 ins.
    -->
    <mass_balance>
        <ixx unit="SLUG*FT2"> 4879 </ixx>
        <iyy unit="SLUG*FT2"> 3818 </iyy>
        <izz unit="SLUG*FT2"> 9591 </izz>
        <ixy unit="SLUG*FT2"> -0 </ixy>
        <ixz unit="SLUG*FT2"> -0 </ixz>
        <iyz unit="SLUG*FT2"> -0 </iyz>
        <emptywt unit="LBS"> 1067 </emptywt>
        <location name="CG" unit="M">
            <x> 0.67 </x>
            <y> 0 </y>
            <z> -0.24 </z>
        </location>
        
        <pointmass name="Pilot">
            <weight unit="LBS"> 140 </weight>
            <location name="POINTMASS" unit="M">
                <x> 0.34 </x>
                <y> -0.26 </y>
                <z> 0.08 </z>
            </location>
        </pointmass>
        
        <pointmass name="Co-Pilot">
            <weight unit="LBS"> 110 </weight>
            <location name="POINTMASS" unit="M">
                <x> 0.34 </x>
                <y> 0.26 </y>
                <z> 0.08 </z>
            </location>
        </pointmass>
        
        <pointmass name="Left Passenger">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 70 </x>
                <y> -14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        
        <pointmass name="Right Passenger">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 70 </x>
                <y> 14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        
        <pointmass name="Baggage">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 95 </x>
                <y>  0 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        
        <!-- Bushkits 1 to 5, pointmass [5] to [14], [15] is 180 hp engine (below) -->
        <!-- Weight and drag are managed by Systems/bushkit.xml -->
        <pointmass name="Left bush wheel 26 inches">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="M">
                <x> -0.57 </x>
                <y> -1.20 </y>
                <z> -1.28 </z>
            </location>
        </pointmass>
        <pointmass name="Right bush wheel 26 inches">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="M">
                <x> -0.57 </x>
                <y>  1.20 </y>
                <z> -1.28 </z>
            </location>
        </pointmass>
        <pointmass name="Left bush wheel 36 inches">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="M">
                <x> -0.57 </x>
                <y> -1.20 </y>
                <z> -1.28 </z>
            </location>
        </pointmass>
        <pointmass name="Right bush wheel 36 inches">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="M">
                <x> -0.57 </x>
                <y>  1.20 </y>
                <z> -1.28 </z>
            </location>
        </pointmass>
        
        <!-- Extra weight for the aircraft with 180 hp engine, **Basic empty** (= with full oil), pointmass [15]; managed by Systems/bushkit.xml -->
        <!-- for empty aircraft CG at x = 38.12 ins, from Cessna 172S - N552SP POH (1998) p.6-12, Weight and moment tabulation: 1642 lbs, 62600 lb-ins -->
        <pointmass name="extra weight 180hp">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 30.29 </x>
                <y>  0 </y>
                <z> 26.6 </z>
            </location>
        </pointmass>
        
        <!-- Loss of weight due to lacking oil, pointmass [16]. engine.nas, c172p-engine.xml -->
        <pointmass name="lacking oil weight">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> -19.7 </x>
                <y> 0 </y>
                <z> 26.6 </z>
            </location>
        </pointmass>
    </mass_balance>
    
    <ground_reactions>
        <!-- contact 0,1,2 -->
        <contact type="BOGEY" name="TAIL">
            <location unit="M">
                <x> 5.08 </x>
                <y> 0 </y>
                <z> -1.21 </z>
            </location>
            <static_friction> 1.3 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 3600 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1200 </damping_coeff>
            <max_steer unit="DEG"> 45 </max_steer> <!-- limited to 10 deg NWS, but can turn up to 30 with side force -->
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MAIN">
            <location unit="M">
                <x> -0.57 </x>
                <y> -1.30 </y>
                <z> -1.48 </z>
            </location>
            <static_friction> 1.3 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1800 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MAIN">
            <location unit="M">
                <x> -0.57 </x>
                <y>  1.30 </y>
                <z> -1.48 </z>
            </location>
            <static_friction> 1.3 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1800 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>0</retractable>
        </contact>
        
        <!-- Damage Mod  -->
        <!-- contact 3, 4, 5 -->
        <contact type="STRUCTURE" name="TAIL_SKID">
            <location unit="M">
                <x> 4.93 </x>
                <y> 0 </y>
                <z> -0.64 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.25 </dynamic_friction>
            <spring_coeff unit="LBS/FT">       2000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">   1000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="LEFT_TIP">
            <location unit="M">
                <x> 1.07 </x>
                <y> -5.62 </y>
                <z> 0.37 </z>
            </location>
            <static_friction> 0.75 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <spring_coeff unit="LBS/FT">       1830.15 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">   366.03 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="RIGHT_TIP">
            <location unit="M">
                <x> 1.07 </x>
                <y> 5.62 </y>
                <z> 0.37 </z>
            </location>
            <static_friction> 0.75 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <spring_coeff unit="LBS/FT">       1830.15 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">   366.03 </damping_coeff>
        </contact>
        
        <!-- contact 6, 7, 8 -->
        <contact type="STRUCTURE" name="TAIL_BROKEN_GEAR">
            <location unit="M">
                <x> 4.93 </x>
                <y> 0 </y>
                <z> -0.64 </z>
            </location>
            <static_friction>  0.9 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <spring_coeff unit="LBS/FT">       1830.15 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">   366.03 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="LEFT_BROKEN_GEAR">
            <location unit="M">
                <x>  0.12 </x>
                <y> -0.46 </y>
                <z> -0.84 </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.4 </dynamic_friction>
            <spring_coeff unit="LBS/FT">       1830.15 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">   366.03 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="RIGHT_BROKEN_GEAR">
            <location unit="M">
                <x>  0.12 </x>
                <y>  0.46 </y>
                <z> -0.84 </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.4 </dynamic_friction>
            <spring_coeff unit="LBS/FT">       1830.15 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">   366.03 </damping_coeff>
        </contact>
        
        <!-- contact 9, 10, 11, 12 -->
        <contact type="STRUCTURE" name="NOSE_TOP">
            <location unit="M">
                <x> -1.24 </x>
                <y> 0 </y>
                <z> 0.17 </z>
            </location>
            <static_friction> .75 </static_friction>
            <dynamic_friction> .5 </dynamic_friction>
            <spring_coeff unit="LBS/FT">       1830.15 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">   366.03 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="NOSE">
            <location unit="M">
                <x> -2.14 </x>
                <y> 0 </y>
                <z> -0.05 </z>
            </location>
            <static_friction> 3.0 </static_friction>
            <dynamic_friction> 2.0 </dynamic_friction>
            <spring_coeff unit="LBS/FT">       1830.15 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">   366.03 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="COCKPIT_TOP">
            <location unit="M">
                <x> -0.09 </x>
                <y> 0 </y>
                <z> 0.54 </z>
            </location>
            <static_friction> 3.0 </static_friction>
            <dynamic_friction> 2.0 </dynamic_friction>
            <spring_coeff unit="LBS/FT">       1830.15 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">   366.03 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="TOP_VS">
            <location unit="M">
                <x> 5.42 </x>
                <y> 0 </y>
                <z> 1.04 </z>
            </location>
            <static_friction> 3.0 </static_friction>
            <dynamic_friction> 2.0 </dynamic_friction>
            <spring_coeff unit="LBS/FT">       1830.15 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">   366.03 </damping_coeff>
        </contact>
        
    </ground_reactions>
    
    <propulsion>
        <engine file="eng_io320">
            <location unit="IN">
                <x> -19.7 </x>
                <y> 0 </y>
                <z> 26.6 </z>
            </location>
            <orient unit="DEG">
                <roll> 0.0 </roll>
                <pitch> 0 </pitch>
                <yaw> 0 </yaw>
            </orient>
            <feed>2</feed> <!-- from intermediate tank (float chamber 2) -->
            <thruster file="prop_75in2f">
                <!-- <thruster file="prop_75in_2f_NACA_15-30deg"> --> <!-- for settling -->
                <location unit="IN">
                    <x> -37.7 </x>
                    <y> 0 </y>
                    <z> 26.6 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
                <sense> 1 </sense>
                <p_factor> 15 </p_factor>
            </thruster>
        </engine>
        
        <engine file="eng_io360">
            <location unit="IN">
                <x> -19.7 </x>
                <y> 0 </y>
                <z> 26.6 </z>
            </location>
            <orient unit="DEG">
                <roll> 0.0 </roll>
                <pitch> 0 </pitch>
                <yaw> 0 </yaw>
            </orient>
            <feed>3</feed> <!-- from intermediate tank (float chamber 3) -->
            <thruster file="prop_76in2f_NACA_20deg">
                <!-- <thruster file="prop_76in2f_NACA_15-25deg"> --> <!-- for settling -->
                <location unit="IN">
                    <x> -37.7 </x>
                    <y> 0 </y>
                    <z> 26.6 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
                <sense> 1 </sense>
                <p_factor> 15 </p_factor>
            </thruster>
        </engine>
        
        <!-- Tank number 0 -->
        <tank type="FUEL">
            <location unit="IN">
                <x> 56 </x>
                <y> -112 </y>
                <z> 59.4 </z>
            </location>
            <capacity unit="LBS">129.43</capacity>
            <contents unit="LBS">100.0 </contents>
            <type>AVGAS</type>
        </tank>
        
        <!-- Tank number 1 -->
        <tank type="FUEL">
            <location unit="IN">
                <x> 56 </x>
                <y> 112 </y>
                <z> 59.4 </z>
            </location>
            <capacity unit="LBS">129.43</capacity>
            <contents unit="LBS">100.0 </contents>
            <type>AVGAS</type>
        </tank>
        
        <!-- Tank number 2, Float chamber  -->
        <tank type="FUEL">
            <location unit="IN">
                <x> 56 </x>
                <y> 0 </y>
                <z> 59.4 </z>
            </location>
            <capacity unit="LBS">0.1</capacity>
            <contents unit="LBS">0.0</contents>
            <priority>1</priority>
            <type>AVGAS</type>
        </tank>
        
        <!-- Tank number 3, Float chamber  -->
        <tank type="FUEL">
            <location unit="IN">
                <x> 56 </x>
                <y> 0 </y>
                <z> 59.4 </z>
            </location>
            <capacity unit="LBS">0.1</capacity>
            <contents unit="LBS">0.0</contents>
            <priority>1</priority>
            <type>AVGAS</type>
        </tank>
    </propulsion>
    
    <flight_control name="FCS: c172">
        <channel name="Pitch">
            <kinematic name="fcs/elevator-cmd-norm-filtered">
                <input>fcs/elevator-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>-1</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>0.15</time>
                    </setting>
                </traverse>
                <output>/sim/model/c172p/cockpit/yoke-elevator</output>
            </kinematic>
            
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm-filtered</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>
            
            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-28</min>
                    <max>23</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
            
            <aerosurface_scale name="Elevator Position Normalized">
                <input>fcs/elevator-pos-deg</input>
                <domain>
                    <min>-28</min>
                    <max>23</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max>1</max>
                </range>
                <output>fcs/elevator-pos-norm</output>
            </aerosurface_scale>
        </channel>
        
        <channel name="Roll">
            <kinematic name="fcs/aileron-cmd-norm-filtered">
                <input>fcs/aileron-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>-1</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>0.15</time>
                    </setting>
                </traverse>
                <output>/sim/model/c172p/cockpit/yoke-aileron</output>
            </kinematic>
            
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm-filtered</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>
            
            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>
            
            <aerosurface_scale name="Left Aileron Position Normalized">
                <input>fcs/left-aileron-pos-deg</input>
                <domain>
                    <min>-20</min>
                    <max>15</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max>1</max>
                </range>
                <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>
            
            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
            
            <aerosurface_scale name="Right Aileron Position Normalized">
                <input>fcs/right-aileron-pos-deg</input>
                <domain>
                    <min>-20</min>
                    <max>15</max>
                </domain>
                <range>
                    <min>1</min>
                    <max>-1</max>
                </range>
                <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>
        </channel>
        
        <channel name="Yaw">
            <kinematic name="fcs/rudder-cmd-norm-filtered">
                <input>fcs/rudder-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>-1</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>0.15</time>
                    </setting>
                </traverse>
                <output>/sim/model/c172p/cockpit/pedals-rudder</output>
            </kinematic>
            
            <fcs_function name="fcs/yaw-trim-cockpit">
                <function>
                    <table>
                        <independentVar lookup="row">/controls/flight/rudder-trim-knob</independentVar>
                        <tableData>
                            -.18    0.20
                            0.00    0.00
                            .18   -0.20
                        </tableData>
                    </table>
                </function>
            </fcs_function>
            
            <summer name="Yaw Trim Sum">
                <input>fcs/rudder-cmd-norm-filtered</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <input>fcs/yaw-trim-cockpit</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>
            
            <aerosurface_scale name="Rudder Control">
                <input>fcs/yaw-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-16</min>
                    <max>16</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
            
            <aerosurface_scale name="Rudder Position Normalized">
                <input>fcs/rudder-pos-deg</input>
                <domain>
                    <min>-16</min>
                    <max>16</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max>1</max>
                </range>
                <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>
            
        </channel>
        
        <channel name="NWS">
            <switch name="fcs/nws-enabled">
                <default value="0"/>
                <test logic="OR" value="1"> <!-- NWS mechanically centered if gear is fully extended -->
                    /gear/gear[0]/compression-norm gt 0.001
                </test>
            </switch>
            
            <fcs_function name="left brake nose-gear">
                <function name="fcs/nose-gear-left-brake-steer-factor">
                    <product>
                        <property>fcs/left-brake-cmd-norm</property>
                        <value>-1</value>
                    </product>
                </function>
            </fcs_function>
            
            <fcs_function name="right brake nose-gear">
                <function name="fcs/nose-gear-right-brake-steer-factor">
                    <product>
                        <property>fcs/right-brake-cmd-norm</property>
                        <value>1</value>
                    </product>
                </function>
            </fcs_function>
            
            <summer name="fcs/brake-sum">
                <input>fcs/nose-gear-right-brake-steer-factor</input>
                <input>fcs/nose-gear-left-brake-steer-factor</input>
            </summer>
            
            <switch name="fcs/brake-influence-enabled"> <!-- brake should not influence nws if the aircraft is not moving -->
                <default value="0"/>
                <test logic="OR" value="1">
                    /gear/gear[0]/rollspeed-ms gt 0.25
                </test>
            </switch>
            
            <fcs_function name="fcs/brake-sum-adjusted">
                <function>
                    <product>
                        <property>fcs/brake-influence-enabled</property>
                        <property>fcs/brake-sum</property>
                    </product>
                </function>
            </fcs_function>
            
            <fcs_function name="fcs/nws-cmd-deg"> <!-- Drive the nose wheel with the rudder and brakes -->
                <function>
                    <table>
                        <independentVar lookup="row">fcs/brake-sum-adjusted</independentVar>
                        <independentVar lookup="column">/controls/flight/rudder</independentVar>
                        <tableData>
                            -1 0   1
                            -1   45 0  -45
                            0   45 0  -45
                            1   45 0  -45
                        </tableData>
                    </table>
                </function>
            </fcs_function>
            
            <fcs_function name="fcs/nws-cmd-deg-adjusted">
                <function>
                    <product>
                        <property>fcs/nws-cmd-deg</property>
                        <property>fcs/nws-enabled</property>
                    </product>
                </function>
            </fcs_function>
            
            <actuator name="fcs/steer-deg">
                <input>fcs/nws-cmd-deg-adjusted</input>
                <rate_limit>80</rate_limit> <!-- 80 deg / s , or 1/8 second to full deflection with NWS -->
                <output>fcs/steer-pos-deg</output>
            </actuator>
        </channel>
        
        <channel name="Flaps">
            <!-- Disable flap movement if electrical voltage is too low -->
            <switch name="Flaps Command">
                <default value="fcs/flap-cmd-norm"/>
                <output>fcs/flap-input-norm</output>
                
                <!-- Route back the (normalized) output of the <kinematic>
                to its input in order to disable it.
                -->
                <test logic="AND" value="fcs/flap-pos-norm">
                    /systems/electrical/outputs/flaps le 16
                </test>
            </switch>
            
            <kinematic name="Flaps Control">
                <input>fcs/flap-input-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>10</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>20</position>
                        <time>1</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            
            <aerosurface_scale name="Flap Position Normalizer">
                <input>fcs/flap-pos-deg</input>
                <domain>
                    <min>0</min> <!-- Flaps actual minimum position -->
                    <max>30</max> <!-- Flaps actual maximum position -->
                </domain>
                <range>
                    <min>0</min> <!-- Flaps normalized minimum position -->
                    <max>1</max> <!-- Flaps normalized maximum position -->
                </range>
                <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
            
            <kinematic name="Flaps Lever">
                <input>/controls/flight/flaps</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>/sim/model/c172p/cockpit/flaps-lever</output>
            </kinematic>
        </channel>
        
        <channel name="Mixture">
            <!-- If the engine was primed enough times and throttle
            is in starter position, then mixture is 1.
            -->
            <fcs_function name="fcs/mixture-primer-cmd">
                <function>
                    <table>
                        <independentVar lookup="row">/controls/engines/engine/primer</independentVar>
                        <independentVar lookup="column">/controls/engines/current-engine/throttle</independentVar>
                        <tableData>
                            0.09    0.1    0.5    0.51
                            2    0       0      0      0
                            3    0       1      1      0
                            4    0       1      1      0
                            5    0       1      1      0
                            6    0       1      1      0
                            7    0       0      0      0
                        </tableData>
                    </table>
                </function>
            </fcs_function>
            
            <pure_gain name="fcs/mixture-primer[0]">
                <input>fcs/mixture-cmd-norm[0]</input>
                <gain>fcs/mixture-primer-cmd</gain>
            </pure_gain>
            
            <pure_gain name="fcs/mixture-primer[1]">
                <input>fcs/mixture-cmd-norm[1]</input>
                <gain>fcs/mixture-primer-cmd</gain>
            </pure_gain>
            
            <!-- Primer logic for 160 HP engine -->
            <switch name="Mixture Position 160 HP">
                <default value="fcs/mixture-cmd-norm[0]"/>
                <output>fcs/mixture-pos-norm[0]</output>
                <!-- Use primer if used and engine is cold. If engine
                is warm, then the mixture lever is used.
                -->
                <test logic="AND" value="fcs/mixture-primer[0]">
                    /controls/engines/engine/use-primer eq 1
                    /engines/engine[0]/oil-temperature-degf le 75
                </test>
            </switch>
            
            <!-- Primer logic for 180 HP engine -->
            <switch name="Mixture Position 180 HP">
                <default value="fcs/mixture-cmd-norm[1]"/>
                <output>fcs/mixture-pos-norm[1]</output>
                <!-- Use primer if used and engine is cold. If engine
                is warm, then the mixture lever is used.
                -->
                <test logic="AND" value="fcs/mixture-primer[1]">
                    /controls/engines/engine/use-primer eq 1
                    /engines/engine[1]/oil-temperature-degf le 75
                </test>
            </switch>
        </channel>
        
        <channel name="Landing Gear">
            <!-- Disable gear movement if electrical voltage is too low -->
            <switch name="Gear Command">
                <default value="gear/gear-cmd-norm"/>
                <output>gear/gear-input-norm</output>
                <!-- Route back the (normalized) output of the <kinematic>
                to its input in order to disable it.
                -->
                <test logic="OR" value="gear/gear-pos-norm">
                    /sim/model/c172p/hydraulics/hydraulic-pump eq 0
                </test>
            </switch>
            <kinematic name="Gr">
                <input>gear/gear-input-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0 </time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>
        
        <channel name="Tail Gear Position">
            
            <fcs_function name="gear/unit/z-impulse">
                <function>
                    <description>Lifting_the_tail_due_to_thrust_on-Ground</description>
                    <product>
                        <property>propulsion/engine[1]/thrust-lbs</property>
                        <property>gear/unit[1]/WOW</property>
                        <property>gear/unit[2]/WOW</property>
                        <value>1</value>
                    </product>
                </function>
            </fcs_function>
            
            
            <fcs_function name="z-position-tail-gear">
                <output>gear/unit[0]/z-position</output>
                <function>
                    <table>
                        <independentVar lookup="row">gear/unit/z-impulse</independentVar>
                        <tableData>
                            0   -47.64
                            300 -47.64
                            500 -60
                            600 -60
                        </tableData>
                    </table>
                </function>
            </fcs_function>
            
        </channel>
        
    </flight_control>
    
    <aerodynamics>
        <alphalimits unit="RAD">
            <min>-0.087</min>
            <max>0.28</max>
        </alphalimits>
        
        <hysteresis_limits unit="RAD">
            <min>0.15</min>
            <max>0.297</max>
        </hysteresis_limits>
        
        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	0.4950
                    0.1000	0.5770
                    0.1500	0.6490
                    0.2000	0.7140
                    0.3000	0.7710
                    0.4000	0.8300
                    0.5000	0.8960
                    0.6000	0.9390
                    0.7000	0.9740
                    0.8000	0.9810
                    0.9000	0.9900
                    1.0000	0.9950
                    1.1000	1.0000
                </tableData>
            </table>
        </function>
        
        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <product>
                <table>
                    <independentVar>aero/h_b-mac-ft</independentVar>
                    <tableData>
                        0.0000	1.2410
                        0.1000	1.1750
                        0.1500	1.1270
                        0.2000	1.0950
                        0.3000	1.0750
                        0.4000	1.0520
                        0.5000	1.0350
                        0.6000	1.0240
                        0.7000	1.0150
                        0.8000	1.0110
                        0.9000	1.0060
                        1.0000	1.0030
                        1.1000	1.0000
                    </tableData>
                </table>
                <value>0.95</value><!-- nichts, neu -->
            </product>
        </function>
        
        <function name="aero/function/vel-propwash-fps">
            <description> propeller induced velocity </description>
            <sum>
                <property>propulsion/engine/prop-induced-velocity_fps</property>
                <property>propulsion/engine[1]/prop-induced-velocity_fps</property>
            </sum>
        </function>
        
        <function name="aero/function/qbar-propwash-psf">
            <description> q bar due to the propeller induced velocity </description>
            <product>
                <property>aero/function/vel-propwash-fps</property>
                <property>aero/function/vel-propwash-fps</property>
                <property>atmosphere/rho-slugs_ft3</property>
                <value>0.5</value>
            </product>
        </function>
        
        <function name="aero/function/velocity-induced-fps">
            <description> velocity including the propulsion induced velocity.</description>
            <sum>
                <property>velocities/u-aero-fps</property>
                <property>propulsion/engine/prop-induced-velocity_fps</property>
                <property>propulsion/engine[1]/prop-induced-velocity_fps</property>
            </sum>
        </function>
        
        <function name="aero/function/qbar-induced-psf">
            <description> q bar including the propulsion induced velocity.</description>
            <product>
                <property>aero/function/velocity-induced-fps</property>
                <property>aero/function/velocity-induced-fps</property>
                <property>atmosphere/rho-slugs_ft3</property>
                <value>0.5</value>
            </product>
        </function>
        
        <function name="aero/function/total-wing-damage">
            <description>Total damage on wings</description>
            <product>
                <sum>
                    <property>wing-damage/left-wing</property>
                    <property>wing-damage/right-wing</property>
                </sum>
                <value>0.5</value>
            </product>
        </function>
        
        <function name="fcs/aileron-pos-rad-avgd">
            <description>Averaged aileron position</description>
            <avg>
                <property>fcs/left-aileron-pos-rad</property>
                <product>
                    <property>fcs/right-aileron-pos-rad</property>
                    <value>-1</value>
                </product>
            </avg>
        </function>
        
        <axis name="DRAG">
            <function name="aero/coefficient/CDo">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/drag-coef[2]</property> <!-- bush wheels 36" -->
                    <property>aero/function/kCDge</property>
                    <table>
                        <independentVar>aero/alpha-rad</independentVar>
                        <tableData>
                            -1.5700	1.5000
                            -0.2600	0.0400
                            0.0000	0.01922
                            0.2600	0.0400
                            1.5700	1.5000
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/CDDf">
                <description>Delta_drag_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                    <table>
                        <independentVar>fcs/flap-pos-deg</independentVar>
                        <tableData>
                            0.0000    0.0000
                            10.0000   0.0070
                            20.0000   0.0120
                            30.0000   0.0180
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/CDwbh">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                    <table>
                        <independentVar lookup="row">aero/alpha-rad</independentVar>
                        <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                        <tableData>
                            0        10       20       30
                            -0.0873   0.0041   0        0.0005    0.0014
                            -0.0698   0.0013   0.0004   0.0025    0.0041
                            -0.0524   0.0001   0.0023   0.0059    0.0084
                            -0.0349   0.0003   0.0057   0.0108    0.0141
                            -0.0175   0.002    0.0105   0.0172    0.0212
                            0.0000    0.0052   0.0168   0.0251    0.0299
                            0.0175    0.0099   0.0248   0.0346    0.0402
                            0.0349    0.0162   0.0342   0.0457    0.0521
                            0.0524    0.024    0.0452   0.0583    0.0655
                            0.0698    0.0334   0.0577   0.0724    0.0804
                            0.0873    0.0442   0.0718   0.0881    0.0968
                            0.1047    0.0566   0.0874   0.1053    0.1148
                            0.1222    0.0706   0.1045   0.124     0.1343
                            0.1396    0.086    0.1232   0.1442    0.1554
                            0.1571    0.0962   0.1353   0.1573    0.169
                            0.1745    0.1069   0.1479   0.1708    0.183
                            0.1920    0.118    0.161    0.1849    0.1975
                            0.2094    0.1298   0.1746   0.1995    0.2126
                            0.2269    0.1424   0.1892   0.2151    0.2286
                            0.2443    0.1565   0.2054   0.2323    0.2464
                            0.3491    0.2537   0.3298   0.3755    0.3983
                            0.5236    0.45     0.585    0.666     0.7065
                            0.6981    0.7      0.91     1.036     1.099
                            0.8727    1        1.3      1.48      1.57
                            1.0472    1.35     1.755    1.998     2.1195
                            1.2217    1.5      1.95     2.22      2.355
                            1.3963    1.57     2.041    2.3236    2.4649
                            1.5710    1.6      2.08     2.368     2.512
                        </tableData>
                    </table>
                    <property>gear/drag-coef[2]</property>
                </product>
            </function>
            
            <function name="aero/coefficient/CDDe">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0590</value>
                </product>
            </function>
            
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <table>
                        <independentVar>aero/beta-rad</independentVar>
                        <tableData>
                            -1.5700	1.2300
                            -0.2600	0.0500
                            0.0000	0.0000
                            0.2600	0.0500
                            1.5700	1.2300
                        </tableData>
                    </table>
                    <property>gear/drag-coef[2]</property>
                </product>
            </function>
            
            <function name="aero/coefficient/CDdoorL">
                <description>Drag_due_to_door_left</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>/sim/model/door-positions/leftDoor/position-norm-effective</property>
                    <value>0.0300</value>
                </product>
            </function>
            
            <function name="aero/coefficient/CDdoorR">
                <description>Drag_due_to_door_right</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>/sim/model/door-positions/rightDoor/position-norm-effective</property>
                    <value>0.0300</value>
                </product>
            </function>
            
            <function name="aero/coefficient/CDbaggagedoor">
                <description>Drag_due_to_door_left</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>/sim/model/door-positions/baggageDoor/position-norm-effective</property>
                    <value>0.0300</value>
                </product>
            </function>
            
            <function name="aero/coefficient/CDwindow-l">
                <description>Drag_due_to_window_left</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>/sim/model/door-positions/leftWindow/position-norm</property>
                    <value>0.0010</value>
                </product>
            </function>
            
            <function name="aero/coefficient/CDwindow-r">
                <description>Drag_due_to_window_right</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>/sim/model/door-positions/rightWindow/position-norm</property>
                    <value>0.0010</value>
                </product>
            </function>
            
        </axis>
        
        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0</value><!-- -1 -->
                </product>
            </function>
            
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.150</value>
                </product>
            </function>
        </axis>
        
        <axis name="LIFT">
            <function name="aero/coefficient/CLwbh">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                    <table>
                        <independentVar lookup="row">aero/alpha-rad</independentVar>
                        <independentVar lookup="column">aero/stall-hyst-norm</independentVar>
                        <tableData>
                            0.00    1.00
                            -0.09   -0.22   -0.22
                            0.00    0.25    0.25
                            0.09    0.73    0.73
                            0.10    0.83    0.78
                            0.12    0.92    0.79
                            0.14    1.02    0.81
                            0.16    1.08    0.82
                            0.17    1.13    0.83
                            0.19    1.19    0.85
                            0.21    1.25    0.86
                            0.24    1.35    0.88
                            0.26    1.44    0.90
                            0.28    1.47    0.92
                            0.30    1.43    0.95
                            0.32    1.38    0.99
                            0.34    1.30    1.05
                            0.36    1.15    1.15
                            0.52    1.47    1.47
                            0.70    1.65    1.65
                            0.87    1.47    1.47
                            1.05    1.17    1.17
                            1.57    1.20    1.20
                        </tableData>
                    </table>
                    <table>
                        <independentVar>aero/function/total-wing-damage</independentVar>
                        <tableData>
                            0.0000    1
                            1.0000    0
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/CLDf">
                <description>Delta_lift_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                    <table>
                        <independentVar>fcs/flap-pos-norm</independentVar>
                        <tableData>
                            0.0	      0.0
                            0.33333   0.33
                            0.66666   0.66
                            1.0	      0.93
                        </tableData>
                    </table>
                    <value>0.5</value>
                </product>
            </function>
            
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.4500</value>
                </product>
            </function>
            
            <function name="aero/coefficient/CLadot">
                <description>Lift_due_to_alpha_rate</description>
                <product>
                    <!-- <property>aero/qbar-psf</property> -->
                    <property>aero/qbarUW-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>1.7000</value>
                </product>
            </function>
            
            <function name="aero/coefficient/CLq">
                <description>Lift_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>3.9000</value>
                </product>
            </function>
            
        </axis>
        
        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.092</value>
                    <!--
                    stall and spin (1):
                    via diedra effect.
                    Makes the higher (downwind) wing drop at forward slip
                    and worsens the spin in a skidding turn.
                    But if too great, prevents the spin departure in a slipping turn
                    -->
                    <table>
                        <independentVar lookup="row">aero/alpha-wing-rad</independentVar>
                        <tableData>
                            0.279     1
                            0.297     3.5
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.484</value>
                    <!--
                    stall and spin (2):
                    less roll damping
                    <table>
                    <independentVar lookup="row">aero/alpha-wing-rad</independentVar>
                    <tableData>
                    0.279    1
                    0.297    0.4
                    </tableData>
                    </table>
                    -->
                </product>
            </function>
            
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <table>
                        <independentVar lookup="row">fcs/flap-pos-deg</independentVar>
                        <tableData>
                            0.0000  0.0798
                            30      0.1246
                        </tableData>
                    </table>
                    <table>
                        <!--
                        stall and spin (3):
                        yaw effect
                        -->
                        <independentVar lookup="row">aero/alpha-wing-rad</independentVar>
                        <independentVar lookup="column">velocities/r-aero-rad_sec</independentVar>
                        <independentVar lookup="table">aero/stall-hyst-norm</independentVar>
                        <tableData breakPoint="0">
                            -0.15  -0.1   0    0.1   0.15
                            0.279    1      1     1    1     1
                            0.297    35     30    1    30    35
                            0.5      5      5     1    5     5
                        </tableData>
                        <tableData breakPoint="1">
                            -0.15  -0.1   0    0.1   0.15
                            0.297    35     30    1    30    35
                            0.5      5      5     1    5     5
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/ClDa">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/aileron-pos-rad-avgd</property>
                    <value>0.229</value>
                    <!--
                    stall and spin (4):
                    less efficient ailerons
                    -->
                    <table>
                        <independentVar lookup="row">aero/alpha-wing-rad</independentVar>
                        <independentVar lookup="column">aero/stall-hyst-norm</independentVar>
                        <tableData>
                            0     1
                            0.279    1     0.3
                            0.297    0.3   0.3
                            0.611   -0.1  -0.1
                        </tableData>
                    </table>
                    <table>
                        <independentVar>aero/function/total-wing-damage</independentVar>
                        <tableData>
                            0.0000  1
                            1.0000  0
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0147</value>
                </product>
            </function>
            
            <function name="aero/coefficient/Cllwdmg">
                <description>Roll_moment_due_to_damaged_left_wing</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>wing-damage/left-wing</property>
                    <value>-0.3</value>
                </product>
            </function>
            
            <function name="aero/coefficient/Clrwdmg">
                <description>Roll_moment_due_to_damaged_right_wing</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>wing-damage/right-wing</property>
                    <value>0.3</value>
                </product>
            </function>
        </axis>
        
        <axis name="PITCH">
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <table>
                        <independentVar lookup="row">aero/qbar-psf</independentVar>
                        <tableData>
                            13.6  0.09
                            21.2  0.04
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <sin>
                        <property>aero/alpha-rad</property>
                    </sin>
                    <value>-1.8</value>
                    <!--
                    stall and spin (5):
                    horizontal tail stall (for flat spin)
                    -->
                    <table>
                        <independentVar lookup="row">aero/alpha-deg</independentVar>
                        <tableData>
                            20    1
                            25    0.6
                            35    0.4
                            45    0.5
                            55    0.4
                            65    0.2
                            90    0.1
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-12.4000</value>
                </product>
            </function>
            
            <function name="aero/coefficient/Cmadot">
                <!-- 'qbar-psf' has been replaced by 'qbarUW-psf'.
                See JSBSim issue #89 Pitch oscillations at rest, Brakes "ON", with pure crosswind
                https://github.com/JSBSim-Team/jsbsim/issues/89 -->
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <!-- <property>aero/qbar-psf</property> -->
                    <property>aero/qbarUW-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-7.2700</value>
                </product>
            </function>
            
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/function/qbar-induced-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-1.28</value>
                    <!--
                    stall and spin (6):
                    elevator loss of efficiency when stalled
                    -->
                    <table>
                        <independentVar lookup="row">fcs/elevator-pos-rad</independentVar>
                        <independentVar lookup="column">aero/alpha-deg</independentVar>
                        <tableData>
                            18    25   35     45     55      65      90
                            -0.49   1   0.5  0.2    0.1    0.1     0.1     0.1
                            0       1   0.6  0.3    0.15   0.1     0.1     0.1
                            0.40    1   0.9  0.8    0.7    0.6     0.5     0.4
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/Cmdf">
                <description>Delta_pitching_moment_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <table>
                        <independentVar>fcs/flap-pos-deg</independentVar>
                        <tableData>
                            0.0000      0.0000
                            10.0000    -0.0654
                            20.0000    -0.0981
                            30.0000    -0.1140
                        </tableData>
                    </table>
                    <value>0.7</value> <!-- tests, adjustments -->
                </product>
            </function>
            
        </axis>
        
        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <table>
                        <independentVar>aero/beta-rad</independentVar>
                        <tableData>
                            -0.3490   -0.0205
                            0.0000    0.0000
                            0.3490    0.0205
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/Cnspw">
                <description>Yaw_moment_due_to_spiraling_propwash</description>
                <product>
                    <property>aero/function/qbar-propwash-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <value>-0.05</value>
                    <property>aero/coefficient/spiral-propwash-coeff</property> <!-- tuning factor -->
                </product>
            </function>
            
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.0937</value>
                </product>
            </function>
            
            <function name="aero/coefficient/Cnrf">
                <description>Yaw_moment_due_to_flat_spin</description>
                <!--
                stall and spin (7):
                Feedback loop on yaw rate for flat spin.
                Accelerates the yaw rate when stalled, up to a self-maintained flat spin (like a dead leaf).
                r-aero-rad_sec with non-zero coefficients mainly sets the max yawing rate, if attained.
                The coefficients set the yaw moment, thus the speed too, and the flatness of the spin.
                Too great coefficients give an divergent effect and a non-recoverable spin.
                (tricky)
                -->
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <table>
                        <independentVar lookup="row">velocities/r-aero-rad_sec</independentVar>
                        <independentVar lookup="column">aero/alpha-wing-rad</independentVar>
                        <tableData>
                            0.279 0.4
                            -15  0     0
                            -5   0     0
                            -3   0     -0.25
                            -1   0     0
                            0    0     0
                            1    0     0
                            3    0     0.25
                            5    0     0
                            15   0     0
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/Cnda">
                <description>Yaw_moment_due_to_aileron</description>
                <!--
                stall and spin (8):
                adverse yaw: can induce a adverse turn and spin when stalled
                -->
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/aileron-pos-rad-avgd</property>
                    <table>
                        <independentVar lookup="row">aero/alpha-wing-rad</independentVar>
                        <independentVar lookup="column">aero/beta-rad</independentVar>
                        <tableData>
                            -0.35        0           0.35
                            0       -0.0216      -0.0216     -0.0216
                            0.070   -0.039       -0.0786     -0.039
                            0.094   -0.025       -0.0504     -0.025
                        </tableData>
                    </table>
                    <table>
                        <independentVar>aero/function/total-wing-damage</independentVar>
                        <tableData>
                            0.0000  1
                            1.0000  0
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/function/qbar-induced-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0645</value>
                </product>
            </function>
        </axis>
        
    </aerodynamics>
    
    <external_reactions>        
        <!-- Tiedowns use body frame (x positive forward, y positive
        right, z positive down).
        -->
        <force name="tiedown-left" frame="BODY">
            <location unit="M">
                <x> 0.1188</x>
                <y>-2.2998</y>
                <z> 0.4008</z>
            </location>
            <direction>
                <x>0.0</x>
                <y>0.0</y>
                <z>1.0</z>
            </direction>
        </force>
        <force name="tiedown-right" frame="BODY">
            <location unit="M">
                <x> 0.1188</x>
                <y> 2.2998</y>
                <z> 0.4008</z>
            </location>
            <direction>
                <x>0.0</x>
                <y>0.0</y>
                <z>1.0</z>
            </direction>
        </force>
        <force name="tiedown-tail" frame="BODY">
            <location unit="M">
                <x> 4.7116</x>
                <y> 0.0000</y>
                <z>-0.6663</z>
            </location>
            <direction>
                <x>0.0</x>
                <y>0.0</y>
                <z>1.0</z>
            </direction>
        </force>
        
    </external_reactions>
    
    <system file="bushkit"/>
    <system file="fuel"/>
    <system file="c172p-engine"/>
    <system file="c172p-sounds"/>
    <system file="c172p-heat"/>
    <system file="external-heat"/> <!-- integrate external-heater, thanks to HHS for allowing use-->
    <system file="indicated-airspeed"/>
    
</fdm_config>
